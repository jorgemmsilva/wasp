(self.webpackChunkdoc_ops=self.webpackChunkdoc_ops||[]).push([[8807],{7028:function(t,e,n){"use strict";n.r(e),n.d(e,{frontMatter:function(){return i},contentTitle:function(){return s},metadata:function(){return l},toc:function(){return u},default:function(){return h}});var o=n(2122),r=n(9756),a=(n(7294),n(3905)),c=["components"],i={},s="The `accounts` Contract",l={unversionedId:"contract_core/accounts",id:"contract_core/accounts",isDocsHomePage:!1,title:"The `accounts` Contract",description:"The accounts contract is one of the core contracts on each ISCP",source:"@site/docs/contract_core/accounts.md",sourceDirName:"contract_core",slug:"/contract_core/accounts",permalink:"/docs/contract_core/accounts",editUrl:"https://github.com/iotaledger/chronicle.rs/tree/main/docs/docs/contract_core/accounts.md",version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"The `root` contract",permalink:"/docs/contract_core/root"},next:{title:"The `blob` contract",permalink:"/docs/contract_core/blob"}},u=[{value:"Entry Points",id:"entry-points",children:[{value:"deposit",id:"deposit",children:[]},{value:"withdraw",id:"withdraw",children:[]},{value:"harvest",id:"harvest",children:[]}]},{value:"Views",id:"views",children:[{value:"accounts",id:"accounts",children:[]},{value:"balance",id:"balance",children:[]},{value:"totalAssets",id:"totalassets",children:[]}]}],d={toc:u};function h(t){var e=t.components,n=(0,r.Z)(t,c);return(0,a.kt)("wrapper",(0,o.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"the-accounts-contract"},"The ",(0,a.kt)("inlineCode",{parentName:"h1"},"accounts")," Contract"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"accounts")," contract is one of the ",(0,a.kt)("a",{parentName:"p",href:"/docs/contract_core/overview"},"core contracts")," on each ISCP\nchain."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"accounts")," contract keeps a consistent ledger of on-chain accounts in its state for the agents that control them. There are two types of agents who can do it: L1 addresses and smart contracts."),(0,a.kt)("h2",{id:"entry-points"},"Entry Points"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"accounts")," contract provides functions to deposit and withdraw tokens, and also provides information about the assets deposited on the chain.  "),(0,a.kt)("p",null,"Note that the ledger of accounts on the chain is consistently maintained behind scenes by the VM."),(0,a.kt)("h3",{id:"deposit"},"deposit"),(0,a.kt)("p",null,"Moves tokens attached as a transfer to a target account on the chain. By default, the funds are deposited to the caller account. Optionally, a different target account can be specified with the agent ID parameter ",(0,a.kt)("inlineCode",{parentName:"p"},"a"),"."),(0,a.kt)("h3",{id:"withdraw"},"withdraw"),(0,a.kt)("p",null,"Moves all tokens from the caller's on-chain account to another chain, or to an address on L1. It cannot be used to move tokens within the current chain."),(0,a.kt)("h3",{id:"harvest"},"harvest"),(0,a.kt)("p",null,'Moves tokens from the common "default" account controlled by the chain owner, to the proper owner\'s account on the same chain. This entry point is only authorised to whoever owns the chain.'),(0,a.kt)("h2",{id:"views"},"Views"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"accounts")," contract provides a front-end of authorized access to those accounts for users outside the chain."),(0,a.kt)("h3",{id:"accounts"},"accounts"),(0,a.kt)("p",null,"Returns a list of all non-empty accounts in the chain as a list of serialized ",(0,a.kt)("inlineCode",{parentName:"p"},"agent IDs"),"."),(0,a.kt)("h3",{id:"balance"},"balance"),(0,a.kt)("p",null,"Returns the colored token balances that are controlled by the ",(0,a.kt)("inlineCode",{parentName:"p"},"agent ID")," that was specified in the call parameters. It returns the balances as a dictionary of ",(0,a.kt)("inlineCode",{parentName:"p"},"color: amount")," pairs."),(0,a.kt)("h3",{id:"totalassets"},"totalAssets"),(0,a.kt)("p",null,"Returns the colored balances controlled by the chain. They are always equal to the sum of all on-chain accounts, color-by-color."))}h.isMDXComponent=!0},3905:function(t,e,n){"use strict";n.d(e,{Zo:function(){return u},kt:function(){return p}});var o=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},a=Object.keys(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var s=o.createContext({}),l=function(t){var e=o.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):c(c({},e),t)),n},u=function(t){var e=l(t.components);return o.createElement(s.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return o.createElement(o.Fragment,{},e)}},h=o.forwardRef((function(t,e){var n=t.components,r=t.mdxType,a=t.originalType,s=t.parentName,u=i(t,["components","mdxType","originalType","parentName"]),h=l(n),p=r,f=h["".concat(s,".").concat(p)]||h[p]||d[p]||a;return n?o.createElement(f,c(c({ref:e},u),{},{components:n})):o.createElement(f,c({ref:e},u))}));function p(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var a=n.length,c=new Array(a);c[0]=h;var i={};for(var s in e)hasOwnProperty.call(e,s)&&(i[s]=e[s]);i.originalType=t,i.mdxType="string"==typeof t?t:r,c[1]=i;for(var l=2;l<a;l++)c[l]=n[l];return o.createElement.apply(null,c)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"}}]);