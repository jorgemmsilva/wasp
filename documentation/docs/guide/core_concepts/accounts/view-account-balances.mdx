---
keywords:
  - ISCP
  - view
  - account
  - balances
  - Rust
  - Solo
description: The Accounts contract provides the balance, totalAssets and accounts views.
image: /img/logo/WASP_logo_dark.png
---

import Tabs from "@theme/Tabs"
import TabItem from "@theme/TabItem"

# View Account Balances

The Accounts contract provides the following views:

## balance

`balance` - get the account balance of a specific account

parameters:

- `ParamAgentID` - account's AgentID

returns:

- a map of [token_color] -> [amount]

examples:

<Tabs
    defaultValue="solo"
    values={[
        {label: 'Solo', value: 'solo'},
        {label: 'Rust (ISCP)', value: 'rust'},
    ]}>
<TabItem value="solo">

```go
balances := chain.GetAccountBalance(agentID)
```

</TabItem>
<TabItem value="rust">

```rust
// TODO does this work?
let parms = ScMutableMap::new();
parms.get_int64("a").set_value(AGENT_ID)
let ret = ctx.call(ScHname::new("accounts"), ScHname::new("balance"), Some(params), None);
let balances = ret.get_map(&KEY_BALANCES).immutable()
```

</TabItem>
</Tabs>

---

## totalAssets

`totalAssets` - get the total colored balances controlled by the chain

returns:

- a map of [token_color] -> [amount]

<Tabs
    defaultValue="solo"
    values={[
        {label: 'Solo', value: 'solo'},
        {label: 'Rust (ISCP)', value: 'rust'},
    ]}>
<TabItem value="solo">

```go
balances:= chain.GetTotalAssets()
```

</TabItem>
<TabItem value="rust">

```rust
let ret = ctx.call(ScHname::new("accounts"), ScHname::new("totalAssets") , None);
let balances = ret.get_map(&KEY_BALANCES).immutable()
```

</TabItem>
</Tabs>

---

## accounts

`accounts` - get a list of all accounts existing on the chain

returns:

- a list of accounts (AgentIDs)

<Tabs
    defaultValue="solo"
    values={[
        {label: 'Solo', value: 'solo'},
        {label: 'Rust (ISCP)', value: 'rust'},
    ]}>
<TabItem value="solo">

```go
accounts := chain.GetAccounts()
```

</TabItem>
<TabItem value="rust">

```rust
// TODO does this work?
let ret = ctx.call(ScHname::new("accounts"), ScHname::new("accounts") , None);
let account = ret.get_agent_id_array(&KEY_PARAMS)
```

</TabItem>
</Tabs>

---

## getAccountNonce

`getAccountNonce` - get the current nonce for a given account.

parameters:

- `ParamAgentID` - account's AgentI

returns:

- the current nonce

<Tabs
    defaultValue="solo"
    values={[
        {label: 'Solo', value: 'solo'},
        {label: 'Rust (ISCP)', value: 'rust'},
    ]}>
<TabItem value="solo">

```go
ret, err := chain.CallView(accounts.Contract.Name, accounts.FuncGetAccountNonce.Name,
    accounts.ParamAgentID, iscp.NewAgentID(address, 0),
)
require.NoError(t, err)
nonce, _, err := codec.DecodeUint64(ret.MustGet(accounts.ParamAccountNonce)
```

</TabItem>
<TabItem value="rust">

```rust
// TODO does this work?
let parms = ScMutableMap::new();
parms.get_int64("a").set_value(AGENT_ID)
let ret = ctx.call(ScHname::new("accounts"), ScHname::new("getAccountNonce"), Some(params), None);
let nonce = ret.get_int64("n")
```

</TabItem>
</Tabs>
